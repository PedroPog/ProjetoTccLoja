@model Usuario

<div>
    <h1>Editar Perfil</h1>
    <form asp-action="AtualizarPerfil" asp-controller="Home" method="post">
        <input type="hidden" asp-for="idUsuario" /> <!-- Campo hidden para enviar o ID -->

        <div class="form-group">
            <label asp-for="nome"></label>
            <input asp-for="nome" class="form-control" />
            <span asp-validation-for="nome" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="email"></label>
            <input asp-for="email" class="form-control" />
            <span asp-validation-for="email" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="senha"></label>
            <input asp-for="senha" class="form-control" />
            <span asp-validation-for="senha" class="text-danger"></span>
        </div>
        <button type="submit" class="btn btn-primary">Salvar</button>
        <button type="button" class="btn btn-secondary" id="cancelEditButton">Cancelar</button>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('#cancelEditButton').click(function () {
            $('#content').load('/Home/Perfil');
        });

        $('#editProfileForm').submit(function (event) {
            event.preventDefault();
            var form = $(this);
            $.ajax({
                type: form.attr('method'),
                url: form.attr('action'),
                data: form.serialize(),
                success: function (response) {
                    $('#content').html(response);
                }
            });
        });
    });
</script>
